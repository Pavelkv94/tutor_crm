{
  "openapi": "3.0.0",
  "paths": {
    "/auth/login": {
      "post": {
        "operationId": "AuthController_login",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Teacher was successfully logged in",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "401": {
            "description": "If the password or login or email is wrong"
          },
          "429": {
            "description": "More than 5 attempts from one IP-address during 10 seconds"
          }
        },
        "summary": "Login teacher",
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/register-admin": {
      "post": {
        "operationId": "AuthController_registerAdmin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegisterAdminDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Admin registered successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RegisterAdminOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "429": {
            "description": "More than 5 attempts from one IP-address during 10 seconds"
          }
        },
        "summary": "Registrate a new admin",
        "tags": [
          "Auth"
        ]
      }
    },
    "/auth/refresh-token": {
      "post": {
        "operationId": "AuthController_refreshToken",
        "parameters": [],
        "responses": {
          "200": {
            "description": "Token pair was successfully refreshed",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LoginOutputDto"
                }
              }
            }
          },
          "401": {
            "description": "If the refresh token is wrong or expired"
          },
          "429": {
            "description": "More than 5 attempts from one IP-address during 10 seconds"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Generate new pair of jwt tokens",
        "tags": [
          "Auth"
        ]
      }
    },
    "/teachers": {
      "get": {
        "operationId": "TeacherController_getTeachers",
        "parameters": [
          {
            "name": "filter",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Teachers have been successfully retrieved.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/TeacherOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all teachers",
        "tags": [
          "Teachers"
        ]
      },
      "post": {
        "operationId": "TeacherController_createTeacher",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTeacherDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Teacher has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TeacherOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new teacher",
        "tags": [
          "Teachers"
        ]
      }
    },
    "/teachers/{id}": {
      "patch": {
        "operationId": "TeacherController_updateTeacher",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateTeacherDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Teacher has been successfully updated."
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Teacher not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a teacher",
        "tags": [
          "Teachers"
        ]
      },
      "delete": {
        "operationId": "TeacherController_deleteTeacher",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Teacher has been successfully deleted."
          },
          "404": {
            "description": "Teacher not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a teacher",
        "tags": [
          "Teachers"
        ]
      }
    },
    "/plans": {
      "post": {
        "operationId": "PlanController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePlanInputDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Plan created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PlanOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a new plan",
        "tags": [
          "Plans"
        ]
      },
      "get": {
        "operationId": "PlanController_findAll",
        "parameters": [
          {
            "name": "filter",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Plans have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/PlanOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all plans",
        "tags": [
          "Plans"
        ]
      }
    },
    "/plans/{id}": {
      "delete": {
        "operationId": "PlanController_remove",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Plan has been successfully deleted."
          },
          "404": {
            "description": "Plan not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a plan",
        "tags": [
          "Plans"
        ]
      }
    },
    "/students": {
      "post": {
        "operationId": "StudentController_create",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Student data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStudentDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The student has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a student",
        "tags": [
          "Students"
        ]
      },
      "get": {
        "operationId": "StudentController_findAllForCurrentTeacher",
        "parameters": [
          {
            "name": "filter",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacher_id",
            "required": false,
            "in": "query",
            "description": "Teacher ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Students have been successfully retrieved for current teacher",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/StudentOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all students for current teacher, or if current teacher is admin, get students by teacher ID in query",
        "tags": [
          "Students"
        ]
      }
    },
    "/students/{id}": {
      "get": {
        "operationId": "StudentController_findOne",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Student has been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentExtendedOutputDto"
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get a student",
        "tags": [
          "Students"
        ]
      },
      "patch": {
        "operationId": "StudentController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStudentDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "The student has been successfully updated."
          },
          "400": {
            "description": "Bad request.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Update a student",
        "tags": [
          "Students"
        ]
      },
      "delete": {
        "operationId": "StudentController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "The student has been successfully deleted."
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Delete a student",
        "tags": [
          "Students"
        ]
      }
    },
    "/lessons": {
      "get": {
        "operationId": "LessonController_findLessonsForPeriod",
        "parameters": [
          {
            "name": "start_date",
            "required": true,
            "in": "query",
            "description": "Start date",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_date",
            "required": true,
            "in": "query",
            "description": "End date",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "teacher_id",
            "required": false,
            "in": "query",
            "description": "Teacher ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lessons have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LessonOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all lessons for a period for current teacher, or if current teacher is admin, get lessons by teacher ID in query or admin's lessons",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/student/{student_id}": {
      "get": {
        "operationId": "LessonController_findLessonsForPeriodAndStudent",
        "parameters": [
          {
            "name": "student_id",
            "required": true,
            "in": "path",
            "description": "Student ID",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "start_date",
            "required": true,
            "in": "query",
            "description": "Start date",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_date",
            "required": true,
            "in": "query",
            "description": "End date",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lessons have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StudentLessonsOutputDto"
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all lessons for a period for a student",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/rescheduled": {
      "get": {
        "operationId": "LessonController_findLessonsForReschedule",
        "parameters": [
          {
            "name": "teacher_id",
            "required": false,
            "in": "query",
            "description": "Teacher ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Rescheduled lessons have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LessonOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all rescheduled lessons for current teacher, or if current teacher is admin, get rescheduled lessons by teacher ID in query or admin's lessons",
        "tags": [
          "Lessons"
        ]
      },
      "post": {
        "operationId": "LessonController_createRescheduledLesson",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RescheduledLessonInputDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Rescheduled lesson created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LessonOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "You are not allowed to reschedule this lesson",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Lesson not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a rescheduled lesson",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/single": {
      "post": {
        "operationId": "LessonController_createSingleLessonByAdmin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SingleLessonInputDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Lesson created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LessonOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Lesson already booked for this student at this time",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Plan not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create a single lesson",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/regular/{student_id}": {
      "post": {
        "operationId": "LessonController_createRegularLesson",
        "parameters": [
          {
            "name": "student_id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RegularLessonsInputDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Regular lessons created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LessonOutputDto"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Lesson already booked for this student at this time",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Create regular lessons for a student",
        "tags": [
          "Lessons"
        ]
      },
      "get": {
        "operationId": "LessonController_getRegularLessons",
        "parameters": [
          {
            "name": "student_id",
            "required": true,
            "in": "path",
            "description": "Student ID",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Regular lessons have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/RegularLessonOutputDto"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all regular lessons for a student",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/assigned": {
      "get": {
        "operationId": "LessonController_findLessonsByStartDate",
        "parameters": [
          {
            "name": "start_date",
            "required": true,
            "in": "query",
            "description": "Start date",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Lessons have been successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/LessonOutputDto"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all assigned lessons for a date for current teacher",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/{id}/teacher": {
      "patch": {
        "operationId": "LessonController_changeTeacher",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangeTeacherDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Teacher changed successfully"
          },
          "400": {
            "description": "Teacher not found or is deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Change teacher for a lesson",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/{id}/cancel": {
      "patch": {
        "operationId": "LessonController_cancelLesson",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CancelLessonDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Lesson cancelled successfully"
          },
          "400": {
            "description": "Lesson not found or is cancelled",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Lesson not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Cancel a lesson",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/{id}/free": {
      "patch": {
        "operationId": "LessonController_manageFreeLessonStatus",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ManageFreeLessonStatusDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Free lesson status managed successfully"
          },
          "400": {
            "description": "Lesson not found or is deleted",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Manage free lesson status",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/lessons/{id}": {
      "delete": {
        "operationId": "LessonController_deleteLesson",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "Lesson has been successfully deleted"
          },
          "404": {
            "description": "Lesson not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Get all assigned lessons for a date for current teacher",
        "tags": [
          "Lessons"
        ]
      }
    },
    "/reports/schedule/download": {
      "get": {
        "operationId": "ReportsController_downloadSchedule",
        "parameters": [
          {
            "name": "start_date",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "end_date",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Reports"
        ]
      }
    },
    "/reports/students/download": {
      "get": {
        "operationId": "ReportsController_downloadStudents",
        "parameters": [
          {
            "name": "filter",
            "required": true,
            "in": "query",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        },
        "tags": [
          "Reports"
        ]
      }
    },
    "/telegram/generate-telegram-link": {
      "post": {
        "operationId": "TelegramController_generateTelegramLink",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TelegramLinkInputDto"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Telegram link has been successfully generated.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TelegramLinkOutputDto"
                }
              }
            }
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Teacher not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Generate a telegram link for a teacher",
        "tags": [
          "Telegram"
        ]
      }
    },
    "/telegram/send-lessons-cost-to-admin": {
      "post": {
        "operationId": "TelegramController_sendLessonsCostToAdmin",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/LessonsCostFiltersDto"
              }
            }
          }
        },
        "responses": {
          "204": {
            "description": "Lessons cost has been successfully sent to admin."
          },
          "400": {
            "description": "Bad request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BadRequestErrorResponse"
                }
              }
            }
          },
          "404": {
            "description": "Student not found"
          }
        },
        "security": [
          {
            "bearer": []
          }
        ],
        "summary": "Send lessons cost to admin",
        "tags": [
          "Telegram"
        ]
      }
    }
  },
  "info": {
    "title": "School API",
    "description": "The School API description",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "LoginOutputDto": {
        "type": "object",
        "properties": {
          "accessToken": {
            "type": "string",
            "description": "The access token",
            "example": "1234567890"
          }
        },
        "required": [
          "accessToken"
        ]
      },
      "BadRequestErrorResponse": {
        "type": "object",
        "properties": {
          "statusCode": {
            "type": "number",
            "description": "The HTTP status code",
            "example": 400
          },
          "path": {
            "type": "string",
            "description": "The path of the request",
            "example": "/api/v1/users"
          },
          "message": {
            "type": "object",
            "description": "The message of the error",
            "example": [
              "Error message 1",
              "Error message 2"
            ]
          }
        },
        "required": [
          "statusCode",
          "path",
          "message"
        ]
      },
      "RegisterAdminDto": {
        "type": "object",
        "properties": {
          "login": {
            "type": "string",
            "description": "The login of the admin",
            "example": "admin123"
          },
          "password": {
            "type": "string",
            "description": "The password of the admin",
            "example": "password123"
          },
          "name": {
            "type": "string",
            "description": "The name of the admin",
            "example": "John Doe"
          },
          "secret_key": {
            "type": "string",
            "description": "The secret key for the admin",
            "example": "1234567890"
          }
        },
        "required": [
          "login",
          "password",
          "name",
          "secret_key"
        ]
      },
      "RegisterAdminOutputDto": {
        "type": "object",
        "properties": {
          "message": {
            "type": "string",
            "description": "The message",
            "example": "Admin registered successfully"
          }
        },
        "required": [
          "message"
        ]
      },
      "TeacherOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The id of the teacher",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "The name of the teacher",
            "example": "John Doe"
          },
          "login": {
            "type": "string",
            "description": "The login of the teacher",
            "example": "john.doe"
          },
          "role": {
            "type": "string",
            "description": "The role of the teacher",
            "example": "TEACHER"
          },
          "timezone": {
            "type": "string",
            "description": "The timezone of the teacher",
            "example": "BY"
          },
          "deleted_at": {
            "type": "object",
            "description": "The deleted at of the teacher",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "The created at of the teacher",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "telegrams": {
            "description": "The telegrams of the teacher",
            "example": [
              {
                "id": 1,
                "telegram_id": "1234567890",
                "username": "john.doe",
                "first_name": "John",
                "type": "STUDENT"
              }
            ],
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        },
        "required": [
          "id",
          "name",
          "login",
          "role",
          "timezone",
          "deleted_at",
          "created_at",
          "telegrams"
        ]
      },
      "CreateTeacherDto": {
        "type": "object",
        "properties": {
          "login": {
            "type": "string",
            "description": "The login of the teacher",
            "example": "teacher123"
          },
          "password": {
            "type": "string",
            "description": "The password of the teacher",
            "example": "password123"
          },
          "name": {
            "type": "string",
            "description": "The name of the teacher",
            "example": "John Doe"
          },
          "timezone": {
            "type": "string",
            "description": "The timezone of the teacher",
            "example": "BY"
          }
        },
        "required": [
          "login",
          "password",
          "name",
          "timezone"
        ]
      },
      "UpdateTeacherDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the teacher",
            "example": "John Doe"
          },
          "telegram_link": {
            "type": "object",
            "description": "The telegram link of the teacher",
            "example": "https://t.me/teacher123"
          },
          "timezone": {
            "type": "string",
            "description": "The timezone of the teacher",
            "example": "BY"
          }
        },
        "required": [
          "name",
          "telegram_link",
          "timezone"
        ]
      },
      "CreatePlanInputDto": {
        "type": "object",
        "properties": {
          "plan_type": {
            "type": "string",
            "enum": [
              "INDIVIDUAL",
              "PAIR"
            ]
          },
          "plan_currency": {
            "type": "string",
            "enum": [
              "USD",
              "EUR",
              "PLN",
              "BYN"
            ]
          },
          "plan_price": {
            "type": "number",
            "example": 1000000
          },
          "duration": {
            "type": "number",
            "example": 10
          }
        },
        "required": [
          "plan_type",
          "plan_currency",
          "plan_price",
          "duration"
        ]
      },
      "PlanOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The id of the plan",
            "example": 1
          },
          "plan_name": {
            "type": "string",
            "description": "The name of the plan",
            "example": "10 minutes"
          },
          "plan_price": {
            "type": "number",
            "description": "The price of the plan",
            "example": 1000000
          },
          "plan_currency": {
            "type": "string",
            "description": "The currency of the plan",
            "example": "USD"
          },
          "duration": {
            "type": "number",
            "description": "The duration of the plan",
            "example": 10
          },
          "plan_type": {
            "type": "string",
            "description": "The type of the plan",
            "example": "INDIVIDUAL"
          },
          "deleted_at": {
            "type": "object",
            "description": "The deleted at of the plan",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "The created at of the plan",
            "example": "2026-01-01T00:00:00.000Z"
          }
        },
        "required": [
          "id",
          "plan_name",
          "plan_price",
          "plan_currency",
          "duration",
          "plan_type",
          "deleted_at",
          "created_at"
        ]
      },
      "CreateStudentDto": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "The name of the student",
            "example": "John Doe"
          },
          "class": {
            "type": "number",
            "description": "The class of the student",
            "example": 1
          },
          "birth_date": {
            "type": "object",
            "description": "The birth date of the student",
            "example": "2000-01-01T00:00:00.000Z"
          },
          "teacher_id": {
            "type": "number",
            "description": "The teacher id of the student",
            "example": 1
          },
          "timezone": {
            "type": "string",
            "description": "The timezone of the student",
            "example": "BY"
          }
        },
        "required": [
          "name",
          "class",
          "birth_date",
          "teacher_id",
          "timezone"
        ]
      },
      "StudentOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The id of the student",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "The name of the student",
            "example": "John Doe"
          },
          "class": {
            "type": "number",
            "description": "The class of the student",
            "example": 1
          },
          "birth_date": {
            "type": "object",
            "description": "The birth date of the student",
            "example": "2000-01-01"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "The created at of the student",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "deleted_at": {
            "type": "object",
            "description": "The deleted at of the student",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "teacher_id": {
            "type": "object",
            "description": "The teacher id of the student",
            "example": 1
          },
          "timezone": {
            "type": "object",
            "description": "The timezone of the student",
            "example": "BY"
          }
        },
        "required": [
          "id",
          "name",
          "class",
          "birth_date",
          "created_at",
          "deleted_at",
          "teacher_id",
          "timezone"
        ]
      },
      "StudentExtendedOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The id of the student",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "The name of the student",
            "example": "John Doe"
          },
          "class": {
            "type": "number",
            "description": "The class of the student",
            "example": 1
          },
          "birth_date": {
            "type": "object",
            "description": "The birth date of the student",
            "example": "2000-01-01"
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "The created at of the student",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "deleted_at": {
            "type": "object",
            "description": "The deleted at of the student",
            "example": "2026-01-01T00:00:00.000Z"
          },
          "teacher_id": {
            "type": "object",
            "description": "The teacher id of the student",
            "example": 1
          },
          "timezone": {
            "type": "object",
            "description": "The timezone of the student",
            "example": "BY"
          },
          "balance": {
            "type": "number",
            "description": "The balance of the student",
            "example": 0
          },
          "bookUntilCancellation": {
            "type": "boolean",
            "description": "The book until cancellation of the student",
            "example": false
          },
          "notifyAboutBirthday": {
            "type": "boolean",
            "description": "The notify about birthday of the student",
            "example": true
          },
          "notifyAboutLessons": {
            "type": "boolean",
            "description": "The notify about lessons of the student",
            "example": true
          }
        },
        "required": [
          "id",
          "name",
          "class",
          "birth_date",
          "created_at",
          "deleted_at",
          "teacher_id",
          "timezone",
          "balance",
          "bookUntilCancellation",
          "notifyAboutBirthday",
          "notifyAboutLessons"
        ]
      },
      "UpdateStudentDto": {
        "type": "object",
        "properties": {}
      },
      "TeacherBasicOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "The id of the teacher",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "The name of the teacher",
            "example": "John Doe"
          }
        },
        "required": [
          "id",
          "name"
        ]
      },
      "LessonOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Lesson ID",
            "example": 1
          },
          "student": {
            "description": "Student information",
            "allOf": [
              {
                "$ref": "#/components/schemas/StudentOutputDto"
              }
            ]
          },
          "plan": {
            "description": "Plan information",
            "allOf": [
              {
                "$ref": "#/components/schemas/PlanOutputDto"
              }
            ]
          },
          "date": {
            "format": "date-time",
            "type": "string",
            "description": "Start date with time",
            "example": "2026-01-07T19:03:01.763Z"
          },
          "status": {
            "type": "string",
            "description": "Status",
            "example": "PENDING_PAID"
          },
          "comment": {
            "type": "object",
            "description": "Comment",
            "example": "Comment",
            "nullable": true
          },
          "is_regular": {
            "type": "boolean",
            "description": "Is regular",
            "example": true
          },
          "is_free": {
            "type": "boolean",
            "description": "Is free",
            "example": true
          },
          "is_trial": {
            "type": "boolean",
            "description": "Is trial",
            "example": true
          },
          "rescheduled_lesson_id": {
            "type": "object",
            "description": "Rescheduled lesson ID",
            "example": 1,
            "nullable": true
          },
          "rescheduled_lesson_date": {
            "type": "object",
            "description": "Rescheduled lesson date",
            "example": "2026-01-07T19:03:01.763Z",
            "nullable": true
          },
          "rescheduled_to_lesson_id": {
            "type": "object",
            "description": "Rescheduled to lesson ID",
            "example": 1,
            "nullable": true
          },
          "rescheduled_to_lesson_date": {
            "type": "object",
            "description": "Rescheduled to lesson date",
            "example": "2026-01-07T19:03:01.763Z",
            "nullable": true
          },
          "created_at": {
            "format": "date-time",
            "type": "string",
            "description": "Created at",
            "example": "2026-01-07T19:03:01.763Z"
          },
          "teacher": {
            "description": "Teacher information",
            "allOf": [
              {
                "$ref": "#/components/schemas/TeacherBasicOutputDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "student",
          "plan",
          "date",
          "status",
          "comment",
          "is_regular",
          "is_free",
          "is_trial",
          "rescheduled_lesson_id",
          "rescheduled_lesson_date",
          "rescheduled_to_lesson_id",
          "rescheduled_to_lesson_date",
          "created_at",
          "teacher"
        ]
      },
      "StudentLessonsOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Student ID",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Student name",
            "example": "John Doe"
          },
          "class": {
            "type": "number",
            "description": "Student class",
            "example": 1
          },
          "canceled_lessons": {
            "type": "number",
            "description": "Canceled lessons",
            "example": 1
          },
          "missed_lessons": {
            "type": "number",
            "description": "Missed lessons",
            "example": 1
          }
        },
        "required": [
          "id",
          "name",
          "class",
          "canceled_lessons",
          "missed_lessons"
        ]
      },
      "SingleLessonInputDto": {
        "type": "object",
        "properties": {
          "plan_id": {
            "type": "number",
            "description": "Plan ID",
            "example": 1
          },
          "student_id": {
            "type": "number",
            "description": "Student ID",
            "example": 1
          },
          "teacher_id": {
            "type": "number",
            "description": "Teacher ID",
            "example": 1
          },
          "start_date": {
            "format": "date-time",
            "type": "string",
            "description": "Start date",
            "example": "2026-01-07T19:03:01.752Z"
          },
          "isFree": {
            "type": "boolean",
            "description": "Is free",
            "example": true
          },
          "isTrial": {
            "type": "boolean",
            "description": "Is trial",
            "example": true
          }
        },
        "required": [
          "plan_id",
          "student_id",
          "teacher_id",
          "start_date",
          "isFree",
          "isTrial"
        ]
      },
      "RescheduledLessonInputDto": {
        "type": "object",
        "properties": {
          "rescheduled_lesson_id": {
            "type": "number",
            "description": "Rescheduled lesson ID",
            "example": 1
          },
          "start_date": {
            "format": "date-time",
            "type": "string",
            "description": "Rescheduled lesson date",
            "example": "2026-01-07T19:03:01.780Z"
          }
        },
        "required": [
          "rescheduled_lesson_id",
          "start_date"
        ]
      },
      "RegularLessonsInputDto": {
        "type": "object",
        "properties": {}
      },
      "RegularLessonOutputDto": {
        "type": "object",
        "properties": {
          "id": {
            "type": "number",
            "description": "Regular lesson ID",
            "example": 1
          },
          "student_id": {
            "type": "number",
            "description": "Student ID",
            "example": 1
          },
          "teacher_id": {
            "type": "number",
            "description": "Teacher ID",
            "example": 1
          },
          "start_time": {
            "type": "string",
            "description": "Start time",
            "example": "10:00"
          },
          "week_day": {
            "type": "string",
            "description": "Week day",
            "example": "MONDAY"
          },
          "start_period_date": {
            "format": "date-time",
            "type": "string",
            "description": "Start period date",
            "example": "2026-01-07T19:03:01.798Z"
          },
          "end_period_date": {
            "format": "date-time",
            "type": "string",
            "description": "End period date",
            "example": "2026-01-07T19:03:01.798Z"
          },
          "plan": {
            "description": "Plan",
            "example": 1,
            "allOf": [
              {
                "$ref": "#/components/schemas/PlanOutputDto"
              }
            ]
          }
        },
        "required": [
          "id",
          "student_id",
          "teacher_id",
          "start_time",
          "week_day",
          "start_period_date",
          "end_period_date",
          "plan"
        ]
      },
      "ChangeTeacherDto": {
        "type": "object",
        "properties": {
          "teacher_id": {
            "type": "number",
            "description": "Teacher ID",
            "example": 1
          }
        },
        "required": [
          "teacher_id"
        ]
      },
      "CancelLessonDto": {
        "type": "object",
        "properties": {}
      },
      "ManageFreeLessonStatusDto": {
        "type": "object",
        "properties": {
          "isFree": {
            "type": "boolean",
            "description": "Is free",
            "example": true
          }
        },
        "required": [
          "isFree"
        ]
      },
      "TelegramLinkInputDto": {
        "type": "object",
        "properties": {
          "teacher_id": {
            "type": "object",
            "description": "The teacher id",
            "example": 1
          },
          "student_id": {
            "type": "object",
            "description": "The student id",
            "example": 1
          }
        },
        "required": [
          "teacher_id",
          "student_id"
        ]
      },
      "TelegramLinkOutputDto": {
        "type": "object",
        "properties": {
          "link": {
            "type": "string",
            "description": "The link to the telegram bot",
            "example": "https://t.me/teacher_bot?start=1234567890"
          }
        },
        "required": [
          "link"
        ]
      },
      "LessonsCostFiltersDto": {
        "type": "object",
        "properties": {
          "student_id": {
            "type": "number",
            "description": "The student id",
            "example": 1
          },
          "start_date": {
            "type": "string",
            "description": "The start date",
            "example": "2024-01-01"
          },
          "end_date": {
            "type": "string",
            "description": "The end date",
            "example": "2024-01-01"
          }
        },
        "required": [
          "student_id",
          "start_date",
          "end_date"
        ]
      }
    }
  }
}